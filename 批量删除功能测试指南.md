# 学生和分组批量删除功能测试指南（优化版）

## 功能概述

本次更新优化了SIQCS系统的删除功能UI，将删除操作拆分为两个独立的按钮，提供更清晰的用户交互：

### 学生管理删除功能
1. **删除选中**：删除当前在表格中选中的学生（需要先选择学生）
2. **批量删除**：提供高级删除选项
   - 按批次删除：选择特定的导入批次，删除该批次的所有学生
   - 删除所有学生：危险操作，删除系统中的所有学生数据

### 分组管理删除功能
1. **删除选中**：删除当前在表格中选中的分组（需要先选择分组）
2. **批量删除**：提供高级删除选项
   - 自定义选择删除：通过穿梭框界面灵活选择要删除的分组
   - 删除所有分组：危险操作，删除系统中的所有分组和分配数据

## UI改进说明

### 按钮布局优化
- **删除选中**按钮：只有在选择了数据后才可点击，直接删除选中的项目
- **批量删除**按钮：始终可点击，提供高级删除选项

### 用户体验改进
1. **操作更直观**：删除选中数据的操作更加明确
2. **减少误操作**：高级删除功能独立设置，避免意外触发
3. **确认机制**：所有删除操作都有明确的确认步骤
4. **状态提示**：按钮文本会显示当前选中的数量

## 新增组件

### 删除选中学生组件
- `DeleteSelectedStudentsModal.tsx` - 专门用于删除选中学生的模态框
- 显示选中学生的详细信息
- 提供简洁的确认界面

### 删除选中分组组件
- `DeleteSelectedGroupsModal.tsx` - 专门用于删除选中分组的模态框
- 显示选中分组的详细信息
- 提供简洁的确认界面

### 优化的批量删除组件
- `StudentBulkDeleteModal.tsx` - 优化后只处理按批次删除和全部删除
- `GroupBulkDeleteModal.tsx` - 优化后只处理自定义选择和全部删除

## 测试步骤

### 前提条件
1. 确保后端服务正在运行
2. 确保前端服务正在运行
3. 系统中有测试数据（学生和分组信息）

### 学生删除功能测试

#### 测试1：删除选中的学生
1. 访问学生列表页面 (`http://localhost:3000/students`)
2. 在表格中选择一个或多个学生（点击复选框）
3. 点击"删除选中"按钮（此时按钮应显示选中数量）
4. 在弹出的确认模态框中查看选中的学生信息
5. 确认删除操作
6. 验证选中的学生已被删除，选择状态已清空

#### 测试2：按批次删除学生
1. 访问学生列表页面
2. 点击"批量删除"按钮（无需先选择学生）
3. 在模态框中，删除方式默认为"按批次删除"
4. 从下拉菜单中选择一个批次
5. 确认删除操作
6. 验证该批次的所有学生已被删除

#### 测试3：删除所有学生（谨慎测试）
1. 访问学生列表页面
2. 点击"批量删除"按钮
3. 在模态框中选择"删除所有学生"
4. 勾选确认复选框
5. 确认删除操作
6. 验证所有学生数据已被清空

### 分组删除功能测试

#### 测试4：删除选中的分组
1. 访问分组管理页面 (`http://localhost:3000/groups`)
2. 在表格中选择一个或多个分组（点击复选框）
3. 点击"删除选中"按钮（此时按钮应显示选中数量）
4. 在弹出的确认模态框中查看选中的分组信息
5. 确认删除操作
6. 验证选中的分组及其分配记录已被删除，选择状态已清空

#### 测试5：自定义选择删除分组
1. 访问分组管理页面
2. 点击"批量删除"按钮（无需先选择分组）
3. 在模态框中，删除方式默认为"自定义选择分组"
4. 使用穿梭框选择要删除的分组
5. 确认删除操作
6. 验证选择的分组已被删除

#### 测试6：删除所有分组（谨慎测试）
1. 访问分组管理页面
2. 点击"批量删除"按钮
3. 在模态框中选择"删除所有分组"
4. 勾选确认复选框
5. 确认删除操作
6. 验证所有分组和分配数据已被清空

## UI测试重点

### 按钮状态测试
1. **删除选中按钮**：
   - 未选择数据时应为禁用状态
   - 选择数据后应为启用状态，并显示选中数量
   - 删除操作完成后选择状态应自动清空

2. **批量删除按钮**：
   - 始终为启用状态
   - 不依赖于当前选择状态
   - 提供独立的删除选项

### 用户交互测试
1. **选择反馈**：表格行选择后有明显的视觉反馈
2. **按钮文本**：删除选中按钮应动态显示选中数量
3. **模态框内容**：删除确认界面应清晰显示要删除的内容
4. **操作结果**：删除完成后应有成功提示，数据应及时刷新

## 安全特性

1. **双重确认**：所有删除操作都需要用户明确确认
2. **危险操作警告**：删除所有数据时有明确的危险警告
3. **详细信息展示**：删除前会展示要删除的具体内容
4. **操作隔离**：高风险操作独立于常规删除功能

## 部署后验证清单

- [ ] 前端编译成功（无错误，仅有轻微警告）
- [ ] 后端API响应正常
- [ ] 删除选中学生功能正常
- [ ] 删除选中分组功能正常  
- [ ] 学生批量删除（按批次、全部）功能正常
- [ ] 分组批量删除（自定义、全部）功能正常
- [ ] 按钮状态显示正确
- [ ] 用户界面直观易用
- [ ] 错误处理机制正常
- [ ] 数据一致性保持正确
